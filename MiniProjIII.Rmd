---
title: "It’s Not About the Destination but the Journey"
author: "Juliane Donahue Bombosch, Cai Ytsma, Sofia Salcedo"
date: "9 April 2018"
output: 
  html_document:
    code_folding: hide
    df_print: paged
---
Side notes to make creative and more interesting to read amoung the many projects.

It is not about the destination but the journey. MacLeish is a valuable asset for the Smith community. It has approximately four miles of maintained trails accessible to visitors. Insuring accessibilty is important for all levels of hiking experience and helps us curate a fun experience for visitors. We aimed to classify these trails as “Easy,” “Moderate,” or “Difficult” based on their length and change in elevation. We will utilize spatial data to develop a heuristic that will classify these (or any other) trails based on their difficulty.

**Bonus** 1. we could look at weather as a variable and take into account how close trails are to wetland patches etc. So that we can rate difficulty based on weather conditions in the interest of people who need to maintain and use those trails.
          2. We could make the map interactive
          3. we could make an interactive based on live weather data and talk
          4. It is really easy to manually add markers for landmarks/ we could probably           write a function to do this
**Side Note** To work with elevation.

counters 1:5000

MAssGIS for 3 foot intervals but start with 1: 2,5000

CONTOURS250K_ARC for thirty foot intervals. it is smaller and yeet

The date is `r format(Sys.Date(), "%B %e, %Y")`
```{r}
library(tidyverse)
library(dplyr)
library(sf)
library(etl)
library(macleish)
library(leaflet)
url <- "http://download.massgis.digital.mass.gov/shapefiles/contours5k/hp214.zip"
local_file <- basename(url)
download.file(url, destfile = local_file)
unzip(local_file, exdir = "noho_contour")
url2<- "https://github.com/thomaspark/bootswatch.git"
superhero <- basename(url)
download.file(url2, destfile = superhero)
unzip(local_file, exdir = "superhero")
```



```{r}
#joules uploads elevation data in manner we can work with
dsn <- path.expand("noho_contour")
dsn
noho_elev <- read_sf(dsn)
#highest to lowest elevation in northampton
noho_elev %>%
  st_transform(4326)%>%
  arrange(desc(SHAPE_LEN))
```


```{r}
#Delete later. what is in this package
names(macleish_layers)
#things of interest, landmarks, trails, streams

macleish_layers[["contours_3m"]]#need to look at intersection and look at it plot it. trails boundry and elevation.

```

```{r}
macleish_layers[["trails"]]%>%
  group_by(name) %>%
  mutate(computed_length = st_length(geometry))%>%
  arrange(desc(computed_length))


#join by geometry. dataframes but need to covert it into an sf otherwise it will not plot. So make into a data frame and join it and then tyrn it back into spacial data
#cast it to a line string. to get trail
#percent slope and then total length of segments.
#short but steep
# do not actually mutate so that we have the same length 
# then look at coloring the segments
# if weather season looking at slope and winter snow. Looking at where do we clear trees. none of the trails get close enough to a stream maybe in the future with new stream. But not yet. Seein if they can build one towards the beaver trail. Would not be an easy trail under in optimal weather.
#seeps on the hillside. east slope. that makes things muddier = harder
 
```

```{r}
#joules uploads elevation data in manner we can work with
dsn <- path.expand("noho_contour")
dsn
noho_elev <- read_sf(dsn)
#highest to lowest elevation in northampton
noho_elev %>%
  st_transform(4326)%>%
  arrange(desc(SHAPE_LEN)) %>%
  mutate(ELEV_CHANGE = SHAPE_LEN/ELEV_M) %>%#elevation change to indicate a steepness over the length of the trail
  mutate(DIFFICULTY = ELEV_CHANGE*2 + SHAPE_LEN/100) #divided shape_len by 100 to put the numbers in the same range to make them comparable
```


